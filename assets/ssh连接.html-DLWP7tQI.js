import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,b as t,d,o as i}from"./app-Dwh_EYxy.js";const l={};function r(o,e){return i(),a("div",null,[e[0]||(e[0]=n("p",null,"在 Ubuntu 上使用命令行通过 SSH 密钥连接远程服务器的完整步骤如下：",-1)),t(" more "),e[1]||(e[1]=d(`<h3 id="_1-准备密钥文件" tabindex="-1"><a class="header-anchor" href="#_1-准备密钥文件"><span>1. 准备密钥文件</span></a></h3><ul><li>将密钥文件（如 <code>your-key.pem</code>）复制到 <code>~/.ssh/</code> 目录</li><li>设置正确的文件权限：<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">600</span> ~/.ssh/your-key.pem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="_2-基本连接命令" tabindex="-1"><a class="header-anchor" href="#_2-基本连接命令"><span>2. 基本连接命令</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">ssh</span> <span class="token parameter variable">-i</span> ~/.ssh/your-key.pem username@IP
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>（将 <code>username</code> 替换为实际的远程用户名）</p><h3 id="_3-推荐方法-配置-ssh-config-文件-永久生效" tabindex="-1"><a class="header-anchor" href="#_3-推荐方法-配置-ssh-config-文件-永久生效"><span>3. 推荐方法：配置 SSH config 文件（永久生效）</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">nano</span> ~/.ssh/config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>添加以下内容：</p><div class="language-config line-numbers-mode" data-ext="config" data-title="config"><pre class="language-config"><code># 原始服务器
Host myserver
    HostName IP
    User your_username
    IdentityFile ~/.ssh/your-key.pem
    Port 22  # 如果使用非默认端口请修改

# 新服务器1 - 数据库服务器
Host nowServer
    HostName IP
    User admin
    IdentityFile ~/.ssh/db-key.pem
    Port 2222  # 非标准端口
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存后使用简化命令连接：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">ssh</span> myserver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="配置说明" tabindex="-1"><a class="header-anchor" href="#配置说明"><span>配置说明</span></a></h3><table><thead><tr><th>参数</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><code>Host</code></td><td>自定义别名（连接时使用）</td><td><code>myserver</code>, <code>db</code></td></tr><tr><td><code>HostName</code></td><td>实际 IP 地址或域名</td><td><code>39.98.121.42</code>, <code>backup.example.com</code></td></tr><tr><td><code>User</code></td><td>登录用户名</td><td><code>ubuntu</code>, <code>admin</code></td></tr><tr><td><code>IdentityFile</code></td><td>SSH 密钥文件路径</td><td><code>~/.ssh/myserver-key.pem</code></td></tr><tr><td><code>Port</code></td><td>SSH 端口（默认 22 可省略）</td><td><code>2222</code></td></tr><tr><td><code>ServerAliveInterval</code></td><td>保持连接选项（可选）</td><td><code>60</code>（每60秒发送保活包）</td></tr></tbody></table><h3 id="_4-高级选项" tabindex="-1"><a class="header-anchor" href="#_4-高级选项"><span>4. 高级选项</span></a></h3><ul><li><strong>保持连接</strong>（防止超时断开）：<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">ssh</span> <span class="token parameter variable">-o</span> <span class="token assign-left variable">ServerAliveInterval</span><span class="token operator">=</span><span class="token number">60</span> myserver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><strong>调试模式</strong>（连接失败时使用）：<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">ssh</span> <span class="token parameter variable">-v</span> myserver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="_5-常见问题解决" tabindex="-1"><a class="header-anchor" href="#_5-常见问题解决"><span>5. 常见问题解决</span></a></h3><ol><li><p><strong>权限错误</strong>：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 修复密钥权限</span>
<span class="token function">chmod</span> <span class="token number">700</span> ~/.ssh
<span class="token function">chmod</span> <span class="token number">600</span> ~/.ssh/your-key.pem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>首次连接确认</strong>： 首次连接时会提示确认主机指纹，输入 <code>yes</code> 确认</p></li><li><p><strong>Windows 生成的密钥</strong>： 如果密钥来自 Windows，需转换格式：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> dos2unix
dos2unix ~/.ssh/your-key.pem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_6-连接示例" tabindex="-1"><a class="header-anchor" href="#_6-连接示例"><span>6. 连接示例</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 使用配置别名连接</span>
<span class="token function">ssh</span> myserver

<span class="token comment"># 直接连接（用户名为 ubuntu 的示例）</span>
<span class="token function">ssh</span> <span class="token parameter variable">-i</span> ~/.ssh/server-key.pem ubuntu@IP
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>注意</strong>：如果服务器使用非标准 SSH 端口（如 2222），在命令中添加 <code>-p 2222</code> 或在 config 文件中添加 <code>Port 2222</code> 配置</p></blockquote>`,20))])}const u=s(l,[["render",r],["__file","ssh连接.html.vue"]]),m=JSON.parse('{"path":"/posts/server/ubuntu/ssh%E8%BF%9E%E6%8E%A5.html","title":"SSH远程链接","lang":"zh-CN","frontmatter":{"title":"SSH远程链接","date":"2025-09-14T00:00:00.000Z","icon":"seedling","category":["其他"],"tag":["工具"],"order":224,"description":"在 Ubuntu 上使用命令行通过 SSH 密钥连接远程服务器的完整步骤如下：","head":[["meta",{"property":"og:url","content":"https://github.com/Neumannzc/blog/blog/posts/server/ubuntu/ssh%E8%BF%9E%E6%8E%A5.html"}],["meta",{"property":"og:site_name","content":"Cafe Babe"}],["meta",{"property":"og:title","content":"SSH远程链接"}],["meta",{"property":"og:description","content":"在 Ubuntu 上使用命令行通过 SSH 密钥连接远程服务器的完整步骤如下："}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-14T04:44:43.000Z"}],["meta",{"property":"article:author","content":"Cafe Babe"}],["meta",{"property":"article:tag","content":"工具"}],["meta",{"property":"article:published_time","content":"2025-09-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-14T04:44:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SSH远程链接\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-09-14T00:00:00.000Z\\",\\"dateModified\\":\\"2025-09-14T04:44:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Cafe Babe\\",\\"url\\":\\"https://gitee.com/z517890027\\"}]}"]]},"headers":[{"level":3,"title":"1. 准备密钥文件","slug":"_1-准备密钥文件","link":"#_1-准备密钥文件","children":[]},{"level":3,"title":"2. 基本连接命令","slug":"_2-基本连接命令","link":"#_2-基本连接命令","children":[]},{"level":3,"title":"3. 推荐方法：配置 SSH config 文件（永久生效）","slug":"_3-推荐方法-配置-ssh-config-文件-永久生效","link":"#_3-推荐方法-配置-ssh-config-文件-永久生效","children":[]},{"level":3,"title":"配置说明","slug":"配置说明","link":"#配置说明","children":[]},{"level":3,"title":"4. 高级选项","slug":"_4-高级选项","link":"#_4-高级选项","children":[]},{"level":3,"title":"5. 常见问题解决","slug":"_5-常见问题解决","link":"#_5-常见问题解决","children":[]},{"level":3,"title":"6. 连接示例","slug":"_6-连接示例","link":"#_6-连接示例","children":[]}],"git":{"createdTime":1757825083000,"updatedTime":1757825083000,"contributors":[{"name":"Cafe Babe","email":"517890027@qq.com","commits":1}]},"readingTime":{"minutes":1.56,"words":469},"filePathRelative":"posts/server/ubuntu/ssh连接.md","localizedDate":"2025年9月14日","excerpt":"<p>在 Ubuntu 上使用命令行通过 SSH 密钥连接远程服务器的完整步骤如下：</p>\\n","autoDesc":true}');export{u as comp,m as data};
